<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - AyurSutra</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="dashboard-page">
    <!-- Navigation Bar -->
    <nav class="navbar dashboard-nav">
        <div class="nav-container">
            <div class="nav-logo">
                <h2><i class="fas fa-leaf"></i> AyurSutra</h2>
            </div>
            <div class="nav-menu">
                <span class="welcome-text">Welcome, <span id="adminName">Loading...</span></span>
                <div class="notification-icon" onclick="toggleNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">5</span>
                </div>
                <a href="#" onclick="logout()" class="nav-link logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Dashboard Content -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <ul>
                    <li class="active">
                        <a href="#overview" onclick="showSection('overview')">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Overview</span>
                        </a>
                    </li>
                    <li>
                        <a href="#appointments" onclick="showSection('appointments')">
                            <i class="fas fa-calendar-check"></i>
                            <span>Appointments</span>
                        </a>
                    </li>
                    <li>
                        <a href="#doctors" onclick="showSection('doctors')">
                            <i class="fas fa-user-md"></i>
                            <span>Manage Doctors</span>
                        </a>
                    </li>
                    <li>
                        <a href="#patients" onclick="showSection('patients')">
                            <i class="fas fa-users"></i>
                            <span>Patient Management</span>
                        </a>
                    </li>
                    <li>
                        <a href="#hospital-info" onclick="showSection('hospital-info')">
                            <i class="fas fa-hospital"></i>
                            <span>Hospital Info</span>
                        </a>
                    </li>
                    <li>
                        <a href="#analytics" onclick="showSection('analytics')">
                            <i class="fas fa-chart-bar"></i>
                            <span>Analytics</span>
                        </a>
                    </li>
                    <li>
                        <a href="#notifications" onclick="showSection('notifications')">
                            <i class="fas fa-bell"></i>
                            <span>Notifications</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Overview Section -->
            <section id="overview" class="content-section active">
                <div class="section-header">
                    <h2><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h2>
                    <div class="header-actions">
                        <button onclick="generateReport()" class="btn-secondary">
                            <i class="fas fa-file-alt"></i> Generate Report
                        </button>
                        <button onclick="refreshDashboard()" class="btn-primary">
                            <i class="fas fa-refresh"></i> Refresh
                        </button>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-day"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="pendingAppointments">12</h3>
                            <p>Pending Appointments</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-user-md"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalDoctors">8</h3>
                            <p>Active Doctors</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalPatients">156</h3>
                            <p>Total Patients</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="hospitalRating">4.8</h3>
                            <p>Hospital Rating</p>
                        </div>
                    </div>
                </div>

                <div class="overview-grid">
                    <div class="overview-card">
                        <h3>Recent Appointment Requests</h3>
                        <div id="recentRequests" class="requests-preview">
                            <!-- Requests will be loaded here -->
                        </div>
                        <a href="#appointments" onclick="showSection('appointments')" class="view-all-link">View All Requests</a>
                    </div>

                    <div class="overview-card">
                        <h3>System Activity</h3>
                        <div id="systemActivity" class="activity-preview">
                            <!-- Activity will be loaded here -->
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="action-buttons">
                        <button onclick="addNewDoctor()" class="btn-primary">
                            <i class="fas fa-user-plus"></i> Add Doctor
                        </button>
                        <button onclick="assignPatient()" class="btn-primary">
                            <i class="fas fa-user-check"></i> Assign Patient
                        </button>
                        <button onclick="updateHospitalInfo()" class="btn-secondary">
                            <i class="fas fa-edit"></i> Update Hospital Info
                        </button>
                        <button onclick="sendNotification()" class="btn-secondary">
                            <i class="fas fa-bullhorn"></i> Send Notification
                        </button>
                    </div>
                </div>
            </section>

            <!-- Appointments Section -->
            <section id="appointments" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-calendar-check"></i> Appointment Management</h2>
                    <div class="header-actions">
                        <select id="appointmentStatusFilter" onchange="filterAppointments()">
                            <option value="">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="approved">Approved</option>
                            <option value="rejected">Rejected</option>
                        </select>
                    </div>
                </div>

                <div class="appointments-container">
                    <div id="appointmentsList" class="appointments-list">
                        <!-- Appointment requests will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Doctors Section -->
            <section id="doctors" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-user-md"></i> Doctor Management</h2>
                    <button onclick="addNewDoctor()" class="btn-primary">
                        <i class="fas fa-plus"></i> Add New Doctor
                    </button>
                </div>

                <div class="doctors-container">
                    <div id="doctorsList" class="doctors-list">
                        <!-- Doctors will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Patients Section -->
            <section id="patients" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-users"></i> Patient Management</h2>
                    <div class="header-actions">
                        <input type="text" id="patientSearch" placeholder="Search patients..." class="search-input">
                        <button onclick="generatePatientCredentials()" class="btn-primary">
                            <i class="fas fa-key"></i> Generate Credentials
                        </button>
                    </div>
                </div>

                <div class="patients-container">
                    <div id="patientsList" class="patients-list">
                        <!-- Patients will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Hospital Info Section -->
            <section id="hospital-info" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-hospital"></i> Hospital Information</h2>
                    <button onclick="saveHospitalInfo()" class="btn-primary">
                        <i class="fas fa-save"></i> Save Changes
                    </button>
                </div>

                <div class="hospital-info-container">
                    <form id="hospitalInfoForm" class="hospital-form">
                        <div class="form-section">
                            <h3>Basic Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="hospitalName">Hospital Name</label>
                                    <input type="text" id="hospitalName" value="AyurHeal Center Mumbai">
                                </div>
                                <div class="form-group">
                                    <label for="hospitalPhone">Phone Number</label>
                                    <input type="tel" id="hospitalPhone" value="+91 9876543210">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="hospitalAddress">Address</label>
                                <textarea id="hospitalAddress" rows="3">123 Health Street, Andheri, Mumbai, Maharashtra 400069</textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="hospitalDescription">Description</label>
                                <textarea id="hospitalDescription" rows="4">Premier Panchkarma treatment center with state-of-the-art facilities and experienced practitioners.</textarea>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Operating Hours</h3>
                            <div class="form-group">
                                <label for="operatingHours">Hours</label>
                                <input type="text" id="operatingHours" value="Mon-Sat: 9 AM - 8 PM, Sun: Closed">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Facilities</h3>
                            <div id="facilitiesContainer" class="facilities-container">
                                <!-- Facilities will be loaded here -->
                            </div>
                            <button type="button" onclick="addFacility()" class="btn-secondary">
                                <i class="fas fa-plus"></i> Add Facility
                            </button>
                        </div>

                        <div class="form-section">
                            <h3>Media Gallery</h3>
                            <div class="media-upload">
                                <div class="upload-section">
                                    <h4>Images</h4>
                                    <div id="imageGallery" class="image-gallery">
                                        <!-- Images will be loaded here -->
                                    </div>
                                    <button type="button" onclick="uploadImage()" class="btn-secondary">
                                        <i class="fas fa-upload"></i> Upload Image
                                    </button>
                                </div>
                                
                                <div class="upload-section">
                                    <h4>Videos</h4>
                                    <div id="videoGallery" class="video-gallery">
                                        <!-- Videos will be loaded here -->
                                    </div>
                                    <button type="button" onclick="uploadVideo()" class="btn-secondary">
                                        <i class="fas fa-video"></i> Upload Video
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-chart-bar"></i> Analytics & Reports</h2>
                    <div class="header-actions">
                        <select id="analyticsTimeframe">
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="year">This Year</option>
                        </select>
                    </div>
                </div>

                <div class="analytics-container">
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h3>Appointment Trends</h3>
                            <div class="chart-placeholder">
                                <i class="fas fa-chart-line"></i>
                                <p>Appointment booking trends over time</p>
                            </div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3>Treatment Distribution</h3>
                            <div class="chart-placeholder">
                                <i class="fas fa-chart-pie"></i>
                                <p>Distribution of different treatment types</p>
                            </div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3>Doctor Performance</h3>
                            <div class="chart-placeholder">
                                <i class="fas fa-chart-bar"></i>
                                <p>Doctor ratings and patient satisfaction</p>
                            </div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3>Revenue Analytics</h3>
                            <div class="chart-placeholder">
                                <i class="fas fa-chart-area"></i>
                                <p>Revenue trends and projections</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Notifications Section -->
            <section id="notifications" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-bell"></i> System Notifications</h2>
                    <button onclick="markAllAsRead()" class="btn-secondary">Mark All as Read</button>
                </div>

                <div class="notifications-container">
                    <div id="notificationsList" class="notifications-list">
                        <!-- Notifications will be loaded here -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Doctor Modal -->
    <div id="addDoctorModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAddDoctorModal()">&times;</span>
            <h2>Add New Doctor</h2>
            <form id="addDoctorForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="doctorName">Doctor Name *</label>
                        <input type="text" id="doctorName" required>
                    </div>
                    <div class="form-group">
                        <label for="doctorSpecialization">Specialization *</label>
                        <select id="doctorSpecialization" required>
                            <option value="">Select Specialization</option>
                            <option value="Panchkarma Specialist">Panchkarma Specialist</option>
                            <option value="General Ayurveda">General Ayurveda</option>
                            <option value="Wellness & Lifestyle">Wellness & Lifestyle</option>
                            <option value="Chronic Disease Management">Chronic Disease Management</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="doctorExperience">Experience (Years)</label>
                        <input type="number" id="doctorExperience" min="1" max="50">
                    </div>
                    <div class="form-group">
                        <label for="doctorPhone">Phone Number</label>
                        <input type="tel" id="doctorPhone">
                    </div>
                </div>

                <div class="form-group">
                    <label for="doctorEmail">Email Address</label>
                    <input type="email" id="doctorEmail">
                </div>

                <div class="form-actions">
                    <button type="button" onclick="closeAddDoctorModal()" class="btn-secondary">Cancel</button>
                    <button type="submit" class="btn-primary">Add Doctor</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Assign Patient Modal -->
    <div id="assignPatientModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAssignPatientModal()">&times;</span>
            <h2>Assign Patient to Doctor</h2>
            <form id="assignPatientForm">
                <div class="form-group">
                    <label for="selectPatient">Select Patient</label>
                    <select id="selectPatient" required>
                        <option value="">Choose Patient</option>
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>

                <div class="form-group">
                    <label for="selectDoctor">Assign to Doctor</label>
                    <select id="selectDoctor" required>
                        <option value="">Choose Doctor</option>
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>

                <div class="form-group">
                    <label for="assignmentNotes">Assignment Notes</label>
                    <textarea id="assignmentNotes" rows="3" placeholder="Any special instructions or notes..."></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" onclick="closeAssignPatientModal()" class="btn-secondary">Cancel</button>
                    <button type="submit" class="btn-primary">Assign Patient</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/admin-dashboard.js"></script>
</body>
</html>